<!DOCTYPE html>
<html>
<body>
<script>
	var arr =  new Array(3, 8, 0, 2, 1, 4);
	var result_arr = new Array();

	var front_arr = new Array();
	var back_arr = new Array();
	
	var scope = 0;

	var lenght = arr.length;
	var separate_length = 0;

	if(arr.length % 2 == 0) //배열의 값이 짝수인 경우
	{
		console.log("arr: " + arr);
		scope = arr.length / 2;
		separate(scope); // 분리
		merge(scope); //다시 합병
	}

	else  // if, length % 2 != 0 , 즉 배열의 값이 홀수인 경우
	{

	}

	function separate(scope){ //반으로 나눔
		var i;
		
		for(i=0; i<scope; i++)
		{
			front_arr.push(arr[i]);
		}

		for(i=scope; i<arr.length; i++)
		{
			back_arr.push(arr[i]);
		}

		// check
		console.log("front: " + front_arr);
		console.log("back: " + back_arr);
	}

	function sort(arr, max){ //bubble sort
		var i, loop, temp_data = 0;
	
		//console.log("___________here is sort function___________");
		for (loop = 0; loop <= max; loop++) 
		{
			for(i = 0; i <= max-loop; i++)
			{
				if(arr[i] > arr[i+1])
				{
					temp_data = arr[i];
					arr[i]  = arr[i+1];
					arr[i+1] = temp_data;
				}
				//console.log(i+ ") arr: " + arr + "  //  i+1= " + (i+1) );
			}
		}
		//console.log("____________________________________________");
	}

	function merge (scope) {
		var temp = scope;
		var arr_temp = 0;

		console.log("front_length: " + front_arr.length);
		console.log("back_length: "  + back_arr.length);
		console.log("temp: " + temp);

		if(scope % 2 == 0) //처음 주어진 arr 이 짝수인 경우.
		{

		}

		else  //if, scope%2 != 0
		{
			temp = front_arr.length;
			temp -= front_arr.length % 2;

			console.log("temp(front_length): " + temp);

			console.log("sort front : " + front_arr);
			sort(front_arr, temp);

			console.log("sort back : " + back_arr);
			sort(back_arr, temp);

			// 2. 비교, 합치는 과정

			var j = 0;
			var k = 0;
			var i = 0;
			console.log("--------------------");
			console.log("front_arr: " + front_arr);
			console.log("back_arr: " + back_arr);
			console.log("result_arr: " + result_arr);
			console.log("k: " + k + ", j: " + j);

			while(result_arr.length < 6)
			{
				if(j > 2) { j = 2;}
				if(k > 2) { k = 2;}

				if(front_arr[j] > back_arr[k])
				{
					result_arr.push(back_arr[k]);

					console.log("--------------------");
					console.log("front_arr: " + front_arr);
					console.log("back_arr: " + back_arr);
					console.log("result_arr: " + result_arr);
					console.log("k: " + k + ", j: " + j);
					k++; 
				}

				else if(back_arr[k] > front_arr[j])
				{
					result_arr.push(front_arr[j]);

					console.log("--------------------");
					console.log("front_arr: " + front_arr);
					console.log("back_arr: " + back_arr);	
					console.log("result_arr: " + result_arr);
					console.log("k: " + k + ", j: " + j);
					j++; 
				}
			}

			console.log("--------------------");
			console.log("final!! result_arr: " + result_arr);
		}
	}
</script>
</body>
</html>
